{"ast":null,"code":"import React,{useEffect}from'react';import{io}from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('http://localhost:5000');// Connect to the backend server\nconst App=()=>{useEffect(()=>{// Listen for notifications from the server\nsocket.on('receiveNotification',data=>{if('Notification'in window&&Notification.permission==='granted'){new Notification('New Notification',{body:data.message,icon:'https://via.placeholder.com/128'// Optional icon\n});}});return()=>socket.off('receiveNotification');},[]);const requestPermission=()=>{if('Notification'in window){Notification.requestPermission().then(permission=>{if(permission==='granted'){alert('Notifications enabled!');}else{alert('Notifications disabled.');}});}};const sendNotification=()=>{const message=prompt('Enter a notification message:');if(message){socket.emit('sendNotification',{message});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:requestPermission,className:\"px-4 py-2 bg-green-500 text-white rounded\",children:\"Enable Notifications\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendNotification,className:\"ml-4 px-4 py-2 bg-blue-500 text-white rounded\",children:\"Send Notification\"})]});};export default App;","map":{"version":3,"names":["React","useEffect","io","jsx","_jsx","jsxs","_jsxs","socket","App","on","data","window","Notification","permission","body","message","icon","off","requestPermission","then","alert","sendNotification","prompt","emit","className","children","onClick"],"sources":["/home/uni5/projects/web-notification/client/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { io } from 'socket.io-client';\n\nconst socket = io('http://localhost:5000'); // Connect to the backend server\n\nconst App = () => {\n  useEffect(() => {\n    // Listen for notifications from the server\n    socket.on('receiveNotification', (data) => {\n      if ('Notification' in window && Notification.permission === 'granted') {\n        new Notification('New Notification', {\n          body: data.message,\n          icon: 'https://via.placeholder.com/128', // Optional icon\n        });\n      }\n    });\n\n    return () => socket.off('receiveNotification');\n  }, []);\n\n  const requestPermission = () => {\n    if ('Notification' in window) {\n      Notification.requestPermission().then((permission) => {\n        if (permission === 'granted') {\n          alert('Notifications enabled!');\n        } else {\n          alert('Notifications disabled.');\n        }\n      });\n    }\n  };\n\n  const sendNotification = () => {\n    const message = prompt('Enter a notification message:');\n    if (message) {\n      socket.emit('sendNotification', { message });\n    }\n  };\n\n  return (\n    <div className=\"p-4\">\n      <button\n        onClick={requestPermission}\n        className=\"px-4 py-2 bg-green-500 text-white rounded\"\n      >\n        Enable Notifications\n      </button>\n      <button\n        onClick={sendNotification}\n        className=\"ml-4 px-4 py-2 bg-blue-500 text-white rounded\"\n      >\n        Send Notification\n      </button>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,EAAE,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,MAAM,CAAGL,EAAE,CAAC,uBAAuB,CAAC,CAAE;AAE5C,KAAM,CAAAM,GAAG,CAAGA,CAAA,GAAM,CAChBP,SAAS,CAAC,IAAM,CACd;AACAM,MAAM,CAACE,EAAE,CAAC,qBAAqB,CAAGC,IAAI,EAAK,CACzC,GAAI,cAAc,EAAI,CAAAC,MAAM,EAAIC,YAAY,CAACC,UAAU,GAAK,SAAS,CAAE,CACrE,GAAI,CAAAD,YAAY,CAAC,kBAAkB,CAAE,CACnCE,IAAI,CAAEJ,IAAI,CAACK,OAAO,CAClBC,IAAI,CAAE,iCAAmC;AAC3C,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CAEF,MAAO,IAAMT,MAAM,CAACU,GAAG,CAAC,qBAAqB,CAAC,CAChD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAI,cAAc,EAAI,CAAAP,MAAM,CAAE,CAC5BC,YAAY,CAACM,iBAAiB,CAAC,CAAC,CAACC,IAAI,CAAEN,UAAU,EAAK,CACpD,GAAIA,UAAU,GAAK,SAAS,CAAE,CAC5BO,KAAK,CAAC,wBAAwB,CAAC,CACjC,CAAC,IAAM,CACLA,KAAK,CAAC,yBAAyB,CAAC,CAClC,CACF,CAAC,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAN,OAAO,CAAGO,MAAM,CAAC,+BAA+B,CAAC,CACvD,GAAIP,OAAO,CAAE,CACXR,MAAM,CAACgB,IAAI,CAAC,kBAAkB,CAAE,CAAER,OAAQ,CAAC,CAAC,CAC9C,CACF,CAAC,CAED,mBACET,KAAA,QAAKkB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBrB,IAAA,WACEsB,OAAO,CAAER,iBAAkB,CAC3BM,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CACtD,sBAED,CAAQ,CAAC,cACTrB,IAAA,WACEsB,OAAO,CAAEL,gBAAiB,CAC1BG,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC1D,mBAED,CAAQ,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}